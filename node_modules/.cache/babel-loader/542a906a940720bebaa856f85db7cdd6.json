{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rani\\\\Desktop\\\\employee-mgt\\\\phone-otp\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\"; // react router\n\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\"; //components\n\nimport SignIn from \"./components/SignIn\";\nimport Home from \"./components/Home\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [viewOtpForm, setViewOtpForm] = useState(false);\n  const [user, setUser] = useState(false);\n  const firebaseConfig = {\n    apiKey: \"AIzaSyD2G1QvkMbYbBWWk_srTr23JhnvJ-YrpMI\",\n    authDomain: \"phone-otp-541cd.firebaseapp.com\",\n    projectId: \"phone-otp-541cd\",\n    storageBucket: \"phone-otp-541cd.appspot.com\",\n    messagingSenderId: \"146477049881\",\n    appId: \"1:146477049881:web:94d285cb7d59481d44a288\"\n  };\n  useEffect(() => {\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\"recaptcha-container\", {\n      size: \"invisible\",\n      callback: function (response) {\n        console.log(\"Captcha Resolved\");\n        this.onSignInSubmit();\n      },\n      defaultCountry: \"IN\"\n    });\n  }, []);\n\n  if (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n  } else {\n    firebase.app(); // if already initialized, use that one\n  }\n\n  const auth = firebase.auth();\n  auth.onAuthStateChanged(user => {\n    if (user) {\n      setUser(user);\n    }\n  });\n\n  const loginSubmit = e => {\n    e.preventDefault();\n    let phone_number = \"+91\" + e.target.phone.value;\n    const appVerifier = window.recaptchaVerifier;\n    auth.signInWithPhoneNumber(phone_number, appVerifier).then(confirmationResult => {\n      // SMS sent. Prompt user to type the code from the message, then sign the\n      // user in with confirmationResult.confirm(code).\n      console.log(\"otp sent\");\n      setViewOtpForm(true);\n      window.confirmationResult = confirmationResult; // ...\n    }).catch(error => {\n      // Error; SMS not sent\n      // ...\n      alert(error.message);\n    });\n  };\n\n  const otpSubmit = e => {\n    e.preventDefault();\n    let opt_number = e.target.otp_value.value;\n    window.confirmationResult.confirm(opt_number).then(confirmationResult => {\n      console.log(confirmationResult);\n      console.log(\"success\");\n      window.open(\"/\", \"_self\");\n    }).catch(error => {\n      // User couldn't sign in (bad verification code?)\n      alert(error.message);\n    });\n  };\n\n  const signOut = () => {\n    firebase.auth().signOut().then(() => {\n      window.open(\"/signin\", \"_self\");\n    }).catch(error => {\n      // An error happened.\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"recaptcha-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        exact: true,\n        children: /*#__PURE__*/_jsxDEV(Home, {\n          SignOut: signOut,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signin\",\n        exact: true,\n        children: /*#__PURE__*/_jsxDEV(SignIn, {\n          loginSubmit: loginSubmit,\n          otpSubmit: otpSubmit,\n          viewOtpForm: viewOtpForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"ZrHH9yGSTnVX5bp74lwNE6N6c24=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Rani/Desktop/employee-mgt/phone-otp/src/App.js"],"names":["React","useEffect","useState","firebase","BrowserRouter","Router","Route","Switch","SignIn","Home","App","viewOtpForm","setViewOtpForm","user","setUser","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","window","recaptchaVerifier","auth","RecaptchaVerifier","size","callback","response","console","log","onSignInSubmit","defaultCountry","apps","length","initializeApp","app","onAuthStateChanged","loginSubmit","e","preventDefault","phone_number","target","phone","value","appVerifier","signInWithPhoneNumber","then","confirmationResult","catch","error","alert","message","otpSubmit","opt_number","otp_value","confirm","open","signOut"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\n\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\n\n// react router\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\n//components\nimport SignIn from \"./components/SignIn\";\nimport Home from \"./components/Home\";\n\nconst App = () => {\n  const [viewOtpForm, setViewOtpForm] = useState(false);\n  const [user, setUser] = useState(false);\n  const firebaseConfig = {\n    apiKey: \"AIzaSyD2G1QvkMbYbBWWk_srTr23JhnvJ-YrpMI\",\n  authDomain: \"phone-otp-541cd.firebaseapp.com\",\n  projectId: \"phone-otp-541cd\",\n  storageBucket: \"phone-otp-541cd.appspot.com\",\n  messagingSenderId: \"146477049881\",\n  appId: \"1:146477049881:web:94d285cb7d59481d44a288\"\n  };\n\n  useEffect(() => {\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\n      \"recaptcha-container\",\n      {\n        size: \"invisible\",\n        callback: function (response) {\n          console.log(\"Captcha Resolved\");\n          this.onSignInSubmit();\n        },\n        defaultCountry: \"IN\",\n      }\n    );\n  }, []);\n\n  if (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n  } else {\n    firebase.app(); // if already initialized, use that one\n  }\n\n  const auth = firebase.auth();\n\n  auth.onAuthStateChanged((user) => {\n    if (user) {\n      setUser(user);\n    }\n  });\n\n  const loginSubmit = (e) => {\n    e.preventDefault();\n\n    let phone_number = \"+91\" + e.target.phone.value;\n    const appVerifier = window.recaptchaVerifier;\n\n    auth\n      .signInWithPhoneNumber(phone_number, appVerifier)\n      .then((confirmationResult) => {\n        // SMS sent. Prompt user to type the code from the message, then sign the\n        // user in with confirmationResult.confirm(code).\n        console.log(\"otp sent\");\n        setViewOtpForm(true);\n        window.confirmationResult = confirmationResult;\n        // ...\n      })\n      .catch((error) => {\n        // Error; SMS not sent\n        // ...\n        alert(error.message);\n      });\n  };\n\n  const otpSubmit = (e) => {\n    e.preventDefault();\n\n    let opt_number = e.target.otp_value.value;\n\n    window.confirmationResult\n      .confirm(opt_number)\n      .then((confirmationResult) => {\n        console.log(confirmationResult);\n        console.log(\"success\");\n        window.open(\"/\", \"_self\");\n      })\n      .catch((error) => {\n        // User couldn't sign in (bad verification code?)\n        alert(error.message);\n      });\n  };\n\n  const signOut = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(() => {\n        window.open(\"/signin\", \"_self\");\n      })\n      .catch((error) => {\n        // An error happened.\n        console.log(error);\n      });\n  };\n\n  return (\n    <Router>\n      <div id=\"recaptcha-container\"></div>\n      <Switch>\n        <Route path=\"/\" exact>\n          <Home SignOut={signOut} user={user} />\n        </Route>\n        <Route path=\"/signin\" exact>\n          <SignIn\n            loginSubmit={loginSubmit}\n            otpSubmit={otpSubmit}\n            viewOtpForm={viewOtpForm}\n          />\n        </Route>\n      </Switch>\n    </Router>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}